---
layout: null
search_exclude: true
nav_exclude: true
permalink: /assets/data/search-index.json
---

[
{% assign docs = "" | split: "" %}

{% assign pages = site.pages | where_exp: "p", "p.url != nil" %}
{% for p in pages %}
  {% assign u = p.url | default: "" %}
  {% assign path = p.path | default: "" %}
  {% assign name = p.name | default: "" %}
  {% unless p.search_exclude %}
    {% unless u contains '/assets/' or path contains 'assets/' or name contains '.scss' or name contains '.map' %}
      {% assign docs = docs | push: p %}
    {% endunless %}
  {% endunless %}
{% endfor %}

{% for p in site.posts %}
  {% unless p.search_exclude %}
    {% assign docs = docs | push: p %}
  {% endunless %}
{% endfor %}

{% for p in site.papers %}
  {% unless p.search_exclude %}
    {% assign docs = docs | push: p %}
  {% endunless %}
{% endfor %}

{% for d in docs %}
  {
    "title": {{ d.title | default: d.name | jsonify }},
    "url": {{ d.url | relative_url | jsonify }},
    "type": {{ d.collection | default: "page" | jsonify }},
    "nav_exclude": {{ d.nav_exclude | default: false | jsonify }},
    "tags": {{ d.tags | default: empty | jsonify }},
    "excerpt": {{ d.excerpt | default: d.abstract | default: "" | strip_html | strip_newlines | jsonify }},
    "content": {{ d.content | strip_html | strip_newlines | replace: "  ", " " | jsonify }}
  }{% unless forloop.last %},{% endunless %}
{% endfor %}
]
